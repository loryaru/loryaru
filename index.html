<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Устанавливаем кодировку символов для корректного отображения текста --> 
    <meta charset="UTF-8">
    <!-- Задаем масштаб и начальный размер для мобильных устройств -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Устанавливаем заголовок страницы -->
    <title>Online Блокнот</title>
    <!-- Внутренние стили для страницы -->
    <style>
        /* Оформление страницы */
        body {
            font-family: Arial, sans-serif; /* Устанавливаем шрифт для всего текста на странице */
            margin: 0; /* Убираем внешние отступы */
            padding: 0; /* Убираем внутренние отступы */
            transition: background-color 0.3s, color 0.3s; /* Плавная анимация смены цветов */
        }
    
        /* Контейнер для размещения содержимого страницы */
        .container {
            max-width: 800px; /* Максимальная ширина контейнера */
            margin: 0 auto; /* Центрирование контейнера по горизонтали */
            padding: 20px; /* Внутренние отступы контейнера */
        }
    
        /* Верхняя панель с заголовками и кнопками */
        .header {
            display: flex; /* Отображение элементов в ряд */
            justify-content: space-between; /* Выравнивание по краям с промежутком между элементами */
            align-items: center; /* Выравнивание элементов по вертикали */
            margin-bottom: 20px; /* Отступ снизу панели */
        }
    
        /* Стиль кнопок с иконками */
        .icon-button {
            background: none; /* Убираем фон кнопки */
            border: none; /* Убираем границу кнопки */
            cursor: pointer; /* Устанавливаем указатель при наведении на кнопку */
            font-size: 18px; /* Размер шрифта иконки */
            color: #3498db; /* Цвет иконки */
            transition: color 0.3s; /* Плавная анимация смены цвета при наведении */
        }
    
        /* Стиль содержимого блока */
        .content {
            padding: 20px; /* Внутренние отступы блока */
            background-color: #fff; /* Цвет фона блока */
            border: 2px solid #3498db; /* Граница блока */
            border-radius: 10px; /* Закругление углов границы */
            transition: background-color 0.3s, border-color 0.3s; /* Плавная анимация смены цветов */
            height: 50vh; /* Высота блока (половина высоты viewport) */
            overflow: hidden; /* Скрытие содержимого, выходящего за границы блока */
        }
    
        /* Анимация границы блока при наведении */
        .content:hover {
            border-color: #2676b0; /* Цвет границы при наведении */
        }
    
        /* Анимация увеличения высоты блока при активации */
        .content.active {
            height: 100vh; /* Полная высота viewport */
        }
    
        /* Стиль текстового поля */
        .content textarea {
            width: 100%; /* 100% ширина текстового поля */
            height: 100%; /* 100% высота текстового поля */
            border: none; /* Убираем границу текстового поля */
            resize: none; /* Отключаем возможность изменения размера текстового поля */
            outline: none; /* Убираем контур при нажатии на текстовое поле */
            transition: background-color 0.3s, color 0.3s; /* Плавная анимация смены цветов */
        }
    
        /* Стиль для темной темы */
        .dark-theme {
            background-color: #333; /* Цвет фона для темной темы */
            color: #f4f4f4; /* Цвет текста для темной темы */
        }
    
        /* Изменение цвета кнопок в темной теме */
        .dark-theme .icon-button {
            color: #f4f4f4;
        }
    
        /* Изменение цвета текстового поля в темной теме */
        .dark-theme .content textarea {
            background-color: #333;
            color: #f4f4f4;
        }
    
        /* Изменение цвета заголовков в темной теме */
        .dark-theme .header {
            color: #f4f4f4;
        }
    
        /* Изменение цвета фона блока содержимого в темной теме */
        .dark-theme .content {
            background-color: #333;
        }
    
        /* Отображение иконок в шапке */
        .header-icons {
            display: flex; /* Отображение иконок в ряд */
            gap: 10px; /* Расстояние между иконками */
        }
    </style>
    <!-- Подключаем библиотеку Font Awesome для иконок -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="light-theme">
    <div class="container">
        <!-- Верхняя панель с кнопками и иконками -->
        <div class="header">
            <!-- Иконки в шапке -->
            <div class="header-icons">
                <!-- Кнопка переключения темы -->
                <button class="icon-button" id="toggleThemeButton"><i class="fas fa-adjust"></i></button>
                <!-- Кнопка изменения размера текста -->
                <button class="icon-button" id="fontSizeButton"><i class="fas fa-text-height"></i></button>
                <!-- Кнопка очистки содержимого -->
                <button class="icon-button" id="clearButton"><i class="fas fa-trash"></i></button>
            </div>
            <!-- Кнопка загрузки текста в виде файла -->
            <button class="icon-button" id="downloadButton"><i class="fas fa-download"></i></button>
        </div>
        <!-- Блок с текстовым полем -->
        <div class="content">
            <textarea id="noteTextarea" placeholder="Начинай... (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧"></textarea>
        </div>
    </div>
    <script>
        // Получаем кнопку изменения размера текста и поле для ввода текста
        const fontSizeButton = document.getElementById("fontSizeButton");
        const noteTextarea = document.getElementById("noteTextarea");

        // Загрузка сохраненного размера из localStorage или устанавливаем значение по умолчанию
        let currentFontSize = localStorage.getItem("fontSize") || "16";
        noteTextarea.style.fontSize = `${currentFontSize}px`;

        // Варианты размеров текста
        const fontSizeOptions = ["14", "16", "20"];

        // Обработчик клика на кнопке изменения размера текста
        fontSizeButton.addEventListener("click", () => {
            currentFontSize = fontSizeOptions[(fontSizeOptions.indexOf(currentFontSize) + 1) % fontSizeOptions.length];
            noteTextarea.style.fontSize = `${currentFontSize}px`;
            localStorage.setItem("fontSize", currentFontSize);
        });

        // Обработчик загрузки сохраненного текста из localStorage при загрузке страницы
        noteTextarea.value = localStorage.getItem("savedText") || "";

        // Получаем кнопку переключения темы и тело страницы
        const toggleThemeButton = document.getElementById("toggleThemeButton");
        const body = document.body;
        let isDarkTheme = JSON.parse(localStorage.getItem("isDarkTheme")) || false;

        // Обработчик клика на кнопке переключения темы
        toggleThemeButton.addEventListener("click", () => {
            isDarkTheme = !isDarkTheme;
            body.classList.toggle("dark-theme", isDarkTheme);
            localStorage.setItem("isDarkTheme", isDarkTheme);
        });

        // Получаем кнопку очистки содержимого
        const clearButton = document.getElementById("clearButton");

        // Обработчик клика на кнопке очистки содержимого
        clearButton.addEventListener("click", () => {
            noteTextarea.value = "";
            localStorage.removeItem("savedText");
        });

        // Получаем кнопку загрузки текста в виде файла
        const downloadButton = document.getElementById("downloadButton");

        // Обработчик клика на кнопке загрузки текста в виде файла
        downloadButton.addEventListener("click", () => {
            const content = noteTextarea.value;
            const filename = `Записка_${new Date().toLocaleDateString()}.txt`;
            const blob = new Blob([content], { type: "text/plain" });
            const url = URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
        });

        // Сохраняем текст в локальное хранилище при каждом изменении
        noteTextarea.addEventListener("input", () => {
            const textValue = noteTextarea.value;
            localStorage.setItem("savedText", textValue);
        });

        // Восстановление цветовой темы при загрузке страницы
        body.classList.toggle("dark-theme", isDarkTheme);
    </script>
</body>
</html>
